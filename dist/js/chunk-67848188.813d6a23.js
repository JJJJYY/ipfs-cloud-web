(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67848188"],{"4de4":function(t,e,s){"use strict";var a=s("23e7"),n=s("b727").filter,i=s("1dde"),r=s("ae40"),o=i("filter"),c=r("filter");a({target:"Array",proto:!0,forced:!o||!c},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5468:function(t,e,s){},5530:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));s("a4d3"),s("4de4"),s("4160"),s("e439"),s("dbb4"),s("b64b"),s("159b");function a(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,a)}return s}function i(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){a(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}},"577e":function(t,e,s){"use strict";s("dbfb")},"5dfd":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"order-detail-page"},[s("Header"),s("div",{staticClass:"page-title"},[s("span",{staticClass:"orange-mark pointer",on:{click:function(e){return t.$goto("/production")}}},[t._v("产品")]),t._v(" > 订单详情 ")]),s("div",{staticClass:"content-panel"},[s("div",{staticClass:"product-list"},t._l(t.productList,(function(e,a){return s("div",{key:a,staticClass:"product-item"},[s("div",{staticClass:"cube name"},[t._v(t._s(e.type&&e.type.product_type_name||""))]),s("div",{staticClass:"cube"},[e.specs?s("span",[t._v(t._s(e.specs))]):t._e(),e.rate?s("span",[t._v(t._s(e.rate))]):t._e()]),s("div",{staticClass:"cube"},[e.price?s("span",[t._v("单价："+t._s(e.price)+" 元/"+t._s(e.type&&e.type.unit||""))]):t._e()]),s("div",{staticClass:"cube"},[e.lowest_num?s("span",[t._v("数量："+t._s(e.lowest_num*t.amount)+" "+t._s((e.type&&e.type.unit).replace("年/","")||""))]):t._e()]),s("div",{staticClass:"cube"},[e.price?s("div",[t._v(" 小计："),s("span",{staticClass:"total-price orange-mark"},[t._v("¥"+t._s(e.price*t.amount*e.lowest_num))])]):t._e()])])})),0),s("div",{staticClass:"input-area"},[s("div",{staticClass:"address-panel"},[t._m(0),s("div",{staticClass:"input-row"},[s("div",{staticClass:"label"},[t._v("姓名")]),s("a-input",{attrs:{allowClear:"",maxLength:20},model:{value:t.info.express_name,callback:function(e){t.$set(t.info,"express_name",e)},expression:"info.express_name"}}),s("div",{staticClass:"label label-2"},[t._v("电话")]),s("a-input",{attrs:{allowClear:"",maxLength:20},model:{value:t.info.express_mobile,callback:function(e){t.$set(t.info,"express_mobile",e)},expression:"info.express_mobile"}})],1)]),s("div",{staticClass:"amount-selector"},[s("span",{staticClass:"minus-btn",on:{click:t.handleReduce}},[s("a-icon",{attrs:{type:"minus"}})],1),s("a-input",{model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),s("span",{staticClass:"plus-btn",on:{click:t.handleAdd}},[s("a-icon",{attrs:{type:"plus"}})],1),t._v(" 集群 ")],1)]),s("div",{staticClass:"computed-row"},[s("div",{staticClass:"total"},[t._v("总共配置费用："),s("span",{staticClass:"unit orange-mark"},[t._v("¥")]),s("span",{staticClass:"number orange-mark"},[t._v(t._s(t.totalFee))])]),s("a-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.submit}},[t._v("立即购买")])],1)]),s("Footer")],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"title"},[t._v("收货人信息"),s("span",{staticClass:"orange-mark"},[t._v("下单后平台客服将用此电话联系您，请认真填写")])])}],i=(s("99af"),s("4160"),s("fb6a"),s("a9e3"),s("159b"),s("5530")),r=s("0418"),o=s("fd2d"),c=s("365c"),u=[{type:{product_type_name:"技术服务费"},rate:"20%/年"}],l={name:"order-detail",components:{Header:r["a"],Footer:o["a"]},data:function(){return{loading:!1,ids:void 0,amount:1,productList:[],info:{express_name:void 0,express_mobile:void 0}}},computed:{totalFee:function(){var t=0;return this.productList.forEach((function(e){e.price&&(t+=e.price*e.lowest_num)})),t*this.amount}},watch:{amount:function(t){/^[0-9]+$/.test(t)||(this.amount=t.slice(0,-1)),Number(this.amount>1e7)&&(this.amount=1e7),Number(this.amount<=0)&&(this.amount=1)}},created:function(){var t=this.$route.params.ids;if(!t)return this.$message.error("请先选择要购买的产品！"),void this.$router.push("/production");this.ids=t,this.render()},methods:{render:function(){var t=this;Object(c["m"])({ids:this.ids}).then((function(e){t.productList=(e.data||[]).concat(u)}))},submit:function(){var t=this;this.amount?this.info.express_name&&this.info.express_mobile?/^1[3456789]\d{9}$/.test(this.info.express_mobile)?(this.loading=!0,Object(c["a"])(Object(i["a"])({ids:this.ids,num:this.amount},this.info)).then((function(e){t.loading=!1,t.$message.success("购买成功！"),t.$router.push("/mine/order")})).catch((function(e){t.loading=!1,t.$message.error(e||"购买失败，请稍后再试！")}))):this.$message.error("手机号不合法！"):this.$message.error("请输入收货人信息！"):this.$message.error("请输入购买的集群数量！")},handleReduce:function(){this.amount-1>0?this.amount-=1:this.amount=1},handleAdd:function(){this.amount+=1}}},d=l,p=(s("577e"),s("77c4"),s("2877")),f=Object(p["a"])(d,a,n,!1,null,"a97b2aa2",null);e["default"]=f.exports},"77c4":function(t,e,s){"use strict";s("5468")},dbb4:function(t,e,s){var a=s("23e7"),n=s("83ab"),i=s("56ef"),r=s("fc6a"),o=s("06cf"),c=s("8418");a({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,s,a=r(t),n=o.f,u=i(a),l={},d=0;while(u.length>d)s=n(a,e=u[d++]),void 0!==s&&c(l,e,s);return l}})},dbfb:function(t,e,s){},e439:function(t,e,s){var a=s("23e7"),n=s("d039"),i=s("fc6a"),r=s("06cf").f,o=s("83ab"),c=n((function(){r(1)})),u=!o||c;a({target:"Object",stat:!0,forced:u,sham:!o},{getOwnPropertyDescriptor:function(t,e){return r(i(t),e)}})}}]);
//# sourceMappingURL=chunk-67848188.813d6a23.js.map